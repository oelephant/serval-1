//===========================================================================
// TESTDISPLAY.C - Test display features
//
//  (C)SEIKO EPSON CORPORATION 2006. All rights reserved.
//===========================================================================

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include "seapi.h"
#include "seaux.h"
#include "os.h"

#ifdef _WIN32
#pragma warning( disable : 4996 )	// Function strxxx() was declared deprecated, but can't use Microsoft's strxxx_s() secure replacements as they aren't portable.
#endif

#define MIN_DENSITY		6
#define MAX_DENSITY		12
#define MIN_STEP		1
#define MAX_STEP		10


typedef struct
{
	UInt32	StartX;				// Window X start position
	UInt32	StartY;				// Window Y start position
	UInt32	Width;				// Window horizontal size
	UInt32	Height;				// Window vertical size
} WinRect;


static UInt32	gWidth, gHeight;			// Dimensions of the input window (full display)
static UInt8*	gpImage;					// Dynamically allocated frame buffer
static Int32	gDensity = 7;
static Int32	gStep = 3;
static Boolean	gRedraw = TRUE;				// Redraw all images

static volatile Boolean	gEnableTimerProc = FALSE;	// If registers are being updated, don't allow TimerProc to be running in the background
static Handle		gTimer = 0;					// Handler to periodic timer thread


// Window coordinates
WinRect	gWindows[5];
#define	FULL_SCREEN		0
#define	DBLBUF_WINDOW	1
#define	CLOCK_WINDOW	2
#define HOR_SLIDER		3
#define VER_SLIDER		4

static const UInt8	gColor[][3] = {
	{ 0x60, 0x60, 0x60 },
	{ 0xE0, 0xE0, 0xE0 },
	{ 0x00, 0x00, 0x00 },
};

// Digital clock data
#define DIGIT_WIDTH		12
#define DIGIT_HEIGHT	17

static const UInt8 gDigits[DIGIT_HEIGHT][11 * DIGIT_WIDTH] = 
{
{ 0x94, 0x94, 0x92, 0x53, 0x1A, 0x00, 0x02, 0x1A, 0x53, 0x92, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x8D, 0x66, 0x3C, 0x15, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7A, 0x35, 0x0C, 0x00, 0x09, 0x2E, 0x73, 0x94, 0x94, 0x94, 0x94, 0x7F, 0x3C, 0x17, 0x00, 0x00, 0x1A, 0x53, 0x92, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7D, 0x02, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x2C, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x66, 0x31, 0x0E, 0x00, 0x05, 0x23, 0x68, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x78, 0x35, 0x13, 0x00, 0x00, 0x13, 0x35, 0x78, 0x94, 0x94, 0x94, 0x94, 0x76, 0x33, 0x0C, 0x00, 0x09, 0x2E, 0x71, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x94, 0x8D, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x27, 0x92, 0x94, 0x7A, 0x6D, 0x4C, 0x23, 0x02, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x5A, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x58, 0x94, 0x94, 0x63, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x23, 0x92, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x2A, 0x00, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x2A, 0x94, 0x94, 0x94, 0x94, 0x7A, 0x1E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x94, 0x94, 0x4A, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x4A, 0x94, 0x94, 0x63, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4C, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x94, 0x3F, 0x00, 0x00, 0x3A, 0x88, 0x8D, 0x3C, 0x00, 0x00, 0x46, 0x94, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x73, 0x02, 0x00, 0x0C, 0x6A, 0x94, 0x73, 0x13, 0x00, 0x02, 0x73, 0x94, 0x09, 0x00, 0x25, 0x7A, 0x94, 0x7A, 0x21, 0x00, 0x00, 0x4C, 0x94, 0x94, 0x94, 0x94, 0x94, 0x66, 0x00, 0x00, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x71, 0x07, 0x00, 0x02, 0x38, 0x71, 0x8F, 0x73, 0x0E, 0x35, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7A, 0x00, 0x00, 0x15, 0x94, 0x5C, 0x00, 0x00, 0x0E, 0x66, 0x8F, 0x8F, 0x66, 0x0E, 0x00, 0x00, 0x5C, 0x7A, 0x02, 0x00, 0x07, 0x61, 0x8F, 0x84, 0x2E, 0x00, 0x00, 0x5F, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x7F, 0x02, 0x00, 0x1C, 0x92, 0x94, 0x94, 0x92, 0x1C, 0x00, 0x02, 0x7F, 0x38, 0x00, 0x1C, 0x3C, 0x5C, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x2A, 0x00, 0x00, 0x5A, 0x94, 0x94, 0x94, 0x6D, 0x00, 0x00, 0x2E, 0x94, 0x2A, 0x1A, 0x8D, 0x94, 0x94, 0x94, 0x78, 0x00, 0x00, 0x15, 0x94, 0x94, 0x94, 0x94, 0x8F, 0x13, 0x00, 0x10, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x76, 0x07, 0x00, 0x0E, 0x78, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x17, 0x17, 0x94, 0x94, 0x94, 0x94, 0x94, 0x4C, 0x00, 0x00, 0x3F, 0x94, 0x17, 0x00, 0x00, 0x6D, 0x94, 0x94, 0x94, 0x94, 0x6D, 0x00, 0x00, 0x17, 0x35, 0x00, 0x00, 0x51, 0x94, 0x94, 0x94, 0x92, 0x21, 0x00, 0x0E, 0x8F, 0x94, 0x94, 0x94, 0x94, 0x5C, 0x07, 0x07, 0x5C, 0x94, 0x94, 0x94, 0x94 },
{ 0x41, 0x00, 0x00, 0x5A, 0x94, 0x94, 0x94, 0x94, 0x5A, 0x00, 0x00, 0x41, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x02, 0x00, 0x02, 0x8B, 0x94, 0x94, 0x94, 0x92, 0x00, 0x00, 0x09, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x48, 0x00, 0x00, 0x61, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x8F, 0x13, 0x00, 0x05, 0x7A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x23, 0x00, 0x00, 0x6D, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x88, 0x94, 0x94, 0x94, 0x94, 0x63, 0x00, 0x00, 0x66, 0x94, 0x94, 0x94, 0x94, 0x0C, 0x00, 0x00, 0x0C, 0x94, 0x94, 0x94, 0x94 },
{ 0x1A, 0x00, 0x00, 0x81, 0x94, 0x94, 0x94, 0x94, 0x7F, 0x00, 0x00, 0x1A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x3F, 0x02, 0x41, 0x94, 0x94, 0x94, 0x94, 0x81, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x73, 0x00, 0x00, 0x17, 0x94, 0x94, 0x94, 0x7F, 0x05, 0x00, 0x27, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x66, 0x21, 0x00, 0x0C, 0x35, 0x7D, 0x94, 0x94, 0x55, 0x00, 0x00, 0x48, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x88, 0x00, 0x00, 0x07, 0x8F, 0x94, 0x1A, 0x00, 0x00, 0x6D, 0x94, 0x94, 0x94, 0x94, 0x6D, 0x00, 0x00, 0x1A, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x88, 0x00, 0x00, 0x3C, 0x94, 0x94, 0x94, 0x94, 0x0C, 0x00, 0x00, 0x0C, 0x94, 0x94, 0x94, 0x94 },
{ 0x02, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x02, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x4A, 0x00, 0x00, 0x17, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x84, 0x21, 0x00, 0x02, 0x6A, 0x94, 0x94, 0x94, 0x2A, 0x00, 0x02, 0x7D, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x68, 0x94, 0x27, 0x00, 0x00, 0x5C, 0x35, 0x0E, 0x00, 0x09, 0x31, 0x7D, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x5C, 0x00, 0x00, 0x2C, 0x94, 0x94, 0x63, 0x00, 0x00, 0x0E, 0x66, 0x8F, 0x8F, 0x66, 0x0E, 0x00, 0x00, 0x63, 0x0C, 0x00, 0x00, 0x81, 0x94, 0x94, 0x94, 0x94, 0x53, 0x00, 0x00, 0x1C, 0x94, 0x94, 0x94, 0x94, 0x5C, 0x07, 0x07, 0x5C, 0x94, 0x94, 0x94, 0x94 },
{ 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x63, 0x02, 0x00, 0x00, 0x5F, 0x94, 0x94, 0x94, 0x94, 0x21, 0x00, 0x00, 0x00, 0x13, 0x6D, 0x94, 0x94, 0x94, 0x66, 0x00, 0x00, 0x41, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x00, 0x00, 0x05, 0x4A, 0x88, 0x8F, 0x63, 0x07, 0x00, 0x09, 0x86, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x6A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x31, 0x00, 0x00, 0x58, 0x94, 0x94, 0x94, 0x5A, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x58, 0x94, 0x35, 0x00, 0x00, 0x4A, 0x94, 0x94, 0x94, 0x84, 0x09, 0x00, 0x00, 0x09, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x63, 0x02, 0x00, 0x00, 0x53, 0x94, 0x94, 0x94, 0x94, 0x94, 0x23, 0x00, 0x00, 0x00, 0x1C, 0x68, 0x94, 0x94, 0x8F, 0x13, 0x00, 0x0E, 0x8B, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x38, 0x10, 0x76, 0x94, 0x94, 0x94, 0x94, 0x4A, 0x00, 0x00, 0x43, 0x00, 0x00, 0x00, 0x00, 0x0E, 0x6F, 0x8F, 0x51, 0x00, 0x00, 0x07, 0x81, 0x94, 0x94, 0x94, 0x94, 0x94, 0x8F, 0x07, 0x00, 0x00, 0x81, 0x94, 0x94, 0x94, 0x55, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x55, 0x94, 0x7D, 0x07, 0x00, 0x02, 0x5A, 0x92, 0x76, 0x17, 0x00, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x63, 0x02, 0x00, 0x07, 0x6A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x92, 0x76, 0x31, 0x00, 0x00, 0x38, 0x92, 0x48, 0x00, 0x00, 0x5C, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7A, 0x00, 0x00, 0x1A, 0x00, 0x00, 0x00, 0x05, 0x7D, 0x94, 0x94, 0x94, 0x3F, 0x00, 0x00, 0x3C, 0x94, 0x94, 0x94, 0x94, 0x94, 0x6D, 0x00, 0x00, 0x1A, 0x94, 0x94, 0x94, 0x6F, 0x00, 0x00, 0x02, 0x4E, 0x8D, 0x8D, 0x4E, 0x02, 0x00, 0x00, 0x6D, 0x94, 0x63, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x02, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x02, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x63, 0x02, 0x00, 0x07, 0x71, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x31, 0x00, 0x00, 0x46, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x17, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x4A, 0x94, 0x94, 0x94, 0x94, 0x7A, 0x00, 0x00, 0x15, 0x94, 0x94, 0x94, 0x94, 0x94, 0x41, 0x00, 0x00, 0x46, 0x94, 0x94, 0x94, 0x27, 0x00, 0x00, 0x4E, 0x94, 0x94, 0x94, 0x94, 0x4E, 0x00, 0x00, 0x25, 0x94, 0x94, 0x7D, 0x35, 0x09, 0x00, 0x0C, 0x33, 0x5C, 0x00, 0x00, 0x1A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x1A, 0x00, 0x00, 0x7F, 0x94, 0x94, 0x94, 0x94, 0x81, 0x00, 0x00, 0x1A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x63, 0x02, 0x00, 0x07, 0x71, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7D, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x17, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x86, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x15, 0x00, 0x00, 0x6F, 0x94, 0x94, 0x94, 0x05, 0x00, 0x00, 0x8B, 0x94, 0x94, 0x94, 0x94, 0x8D, 0x00, 0x00, 0x05, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x4A, 0x00, 0x00, 0x41, 0x94, 0x94, 0x94, 0x94, 0x5C, 0x07, 0x07, 0x5C, 0x94, 0x94, 0x94, 0x94 },
{ 0x41, 0x00, 0x00, 0x5A, 0x94, 0x94, 0x94, 0x94, 0x5A, 0x00, 0x00, 0x41, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x53, 0x00, 0x00, 0x10, 0x7A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x02, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7F, 0x00, 0x00, 0x13, 0x4A, 0x00, 0x00, 0x73, 0x94, 0x94, 0x94, 0x94, 0x8D, 0x00, 0x00, 0x05, 0x94, 0x94, 0x94, 0x94, 0x7D, 0x00, 0x00, 0x07, 0x92, 0x94, 0x94, 0x94, 0x02, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x02, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x7A, 0x05, 0x00, 0x02, 0x7F, 0x94, 0x94, 0x94, 0x94, 0x0C, 0x00, 0x00, 0x0C, 0x94, 0x94, 0x94, 0x94 },
{ 0x7F, 0x02, 0x00, 0x1A, 0x92, 0x94, 0x94, 0x92, 0x1C, 0x00, 0x02, 0x7F, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x53, 0x00, 0x00, 0x21, 0x86, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x6D, 0x00, 0x00, 0x21, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x4E, 0x00, 0x00, 0x3A, 0x7D, 0x00, 0x00, 0x38, 0x94, 0x94, 0x94, 0x94, 0x63, 0x00, 0x00, 0x23, 0x94, 0x94, 0x94, 0x94, 0x4E, 0x00, 0x00, 0x33, 0x94, 0x94, 0x94, 0x94, 0x23, 0x00, 0x00, 0x6D, 0x94, 0x94, 0x94, 0x94, 0x6D, 0x00, 0x00, 0x23, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x78, 0x0E, 0x00, 0x00, 0x4E, 0x94, 0x94, 0x94, 0x94, 0x94, 0x0C, 0x00, 0x00, 0x0C, 0x94, 0x94, 0x94, 0x94 },
{ 0x94, 0x43, 0x00, 0x00, 0x3C, 0x8D, 0x88, 0x3A, 0x00, 0x00, 0x3F, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x94, 0x94, 0x53, 0x00, 0x00, 0x3A, 0x92, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x27, 0x0C, 0x5A, 0x88, 0x94, 0x94, 0x81, 0x58, 0x0C, 0x00, 0x00, 0x63, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x00, 0x00, 0x00, 0x94, 0x94, 0x27, 0x09, 0x51, 0x81, 0x94, 0x94, 0x84, 0x51, 0x02, 0x00, 0x02, 0x7A, 0x94, 0x33, 0x00, 0x00, 0x51, 0x8B, 0x92, 0x6D, 0x0E, 0x00, 0x00, 0x66, 0x94, 0x94, 0x94, 0x94, 0x23, 0x00, 0x00, 0x5C, 0x94, 0x94, 0x94, 0x94, 0x63, 0x00, 0x00, 0x0E, 0x6A, 0x8F, 0x8F, 0x6D, 0x0E, 0x00, 0x00, 0x63, 0x35, 0x0C, 0x73, 0x94, 0x78, 0x41, 0x02, 0x00, 0x00, 0x43, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x5C, 0x07, 0x07, 0x5C, 0x94, 0x94, 0x94, 0x94 },
{ 0x94, 0x92, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x23, 0x8D, 0x94, 0x17, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x15, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46, 0x94, 0x94, 0x94, 0x94, 0x94, 0x17, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x17, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x63, 0x94, 0x94, 0x8D, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x43, 0x94, 0x94, 0x94, 0x94, 0x94, 0x05, 0x00, 0x02, 0x86, 0x94, 0x94, 0x94, 0x94, 0x94, 0x48, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x48, 0x94, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0E, 0x63, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
{ 0x94, 0x94, 0x92, 0x4C, 0x1A, 0x00, 0x02, 0x1C, 0x53, 0x92, 0x94, 0x94, 0x17, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x8B, 0x4E, 0x23, 0x0E, 0x00, 0x00, 0x05, 0x1A, 0x3A, 0x78, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x17, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x17, 0x92, 0x5F, 0x2E, 0x15, 0x02, 0x00, 0x05, 0x1A, 0x41, 0x7F, 0x94, 0x94, 0x94, 0x94, 0x92, 0x53, 0x21, 0x07, 0x00, 0x0C, 0x2C, 0x6A, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x3A, 0x00, 0x48, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x78, 0x3A, 0x13, 0x00, 0x00, 0x17, 0x3A, 0x78, 0x94, 0x94, 0x6D, 0x23, 0x05, 0x00, 0x0E, 0x2A, 0x5A, 0x8F, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94, 0x94 },
};

static const UInt8 gHorSlider[22][33] =
{
{ 0x80, 0x80, 0x80, 0x52, 0x6A, 0x7B, 0x46, 0x5F, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x3C, 0x54, 0x64, 0x29, 0x40, 0x52, 0x80, 0x80, 0x80 },
{ 0x52, 0x6A, 0x7B, 0x31, 0x79, 0x3F, 0x0B, 0x82, 0x0A, 0x08, 0x7D, 0x08, 0x08, 0x7D, 0x07, 0x08, 0x7D, 0x07, 0x08, 0x7D, 0x07, 0x07, 0x7B, 0x06, 0x02, 0x68, 0x02, 0x07, 0x3C, 0x0D, 0x16, 0x25, 0x31 },
{ 0x46, 0x5F, 0x6E, 0x0B, 0x82, 0x0A, 0x07, 0x7B, 0x06, 0x02, 0x6A, 0x02, 0x02, 0x6A, 0x02, 0x02, 0x6A, 0x02, 0x02, 0x6A, 0x02, 0x02, 0x68, 0x02, 0x00, 0x52, 0x00, 0x00, 0x37, 0x00, 0x10, 0x1B, 0x24 },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x93, 0x93, 0x89, 0x60, 0x60, 0x5B, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x91, 0x91, 0x89, 0x5B, 0x5B, 0x56, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x93, 0x93, 0x89, 0x60, 0x60, 0x5B, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0xE2, 0xE2, 0xD7, 0xDB, 0xDB, 0xD1, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xCD, 0xCD, 0xC0, 0x8E, 0x8E, 0x87, 0x5D, 0x5D, 0x57, 0x0E, 0x17, 0x1E },
{ 0x3C, 0x54, 0x64, 0x02, 0x78, 0x02, 0x00, 0x62, 0x00, 0x00, 0x4C, 0x00, 0x00, 0x4B, 0x00, 0x00, 0x4B, 0x00, 0x00, 0x4B, 0x00, 0x00, 0x49, 0x00, 0x00, 0x3B, 0x00, 0x00, 0x35, 0x00, 0x0E, 0x17, 0x1F },
{ 0x29, 0x40, 0x52, 0x07, 0x4C, 0x0D, 0x00, 0x47, 0x00, 0x00, 0x37, 0x00, 0x00, 0x35, 0x00, 0x00, 0x35, 0x00, 0x00, 0x35, 0x00, 0x00, 0x36, 0x00, 0x00, 0x35, 0x00, 0x03, 0x26, 0x05, 0x0C, 0x14, 0x1A },
{ 0x80, 0x80, 0x80, 0x16, 0x25, 0x31, 0x10, 0x1B, 0x24, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1F, 0x0C, 0x14, 0x1A, 0x80, 0x80, 0x80 },
};

static const UInt8 gVerSlider[11][66] =
{
{ 0x80, 0x80, 0x80, 0x52, 0x6A, 0x7B, 0x46, 0x5F, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x44, 0x5D, 0x6E, 0x3C, 0x54, 0x64, 0x29, 0x40, 0x52, 0x80, 0x80, 0x80 },
{ 0x52, 0x6A, 0x7B, 0x31, 0x79, 0x3F, 0x0B, 0x82, 0x0A, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0xE2, 0xE2, 0xD7, 0x02, 0x78, 0x02, 0x07, 0x4C, 0x0D, 0x16, 0x25, 0x31 },
{ 0x46, 0x5F, 0x6E, 0x0B, 0x82, 0x0A, 0x07, 0x7B, 0x06, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0xDB, 0xDB, 0xD1, 0x00, 0x62, 0x00, 0x00, 0x47, 0x00, 0x10, 0x1B, 0x24 },
{ 0x44, 0x5D, 0x6E, 0x08, 0x7D, 0x08, 0x02, 0x6A, 0x02, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x00, 0x4C, 0x00, 0x00, 0x37, 0x00, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0x08, 0x7D, 0x07, 0x02, 0x6A, 0x02, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x00, 0x4B, 0x00, 0x00, 0x35, 0x00, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0x08, 0x7D, 0x07, 0x02, 0x6A, 0x02, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x00, 0x4B, 0x00, 0x00, 0x35, 0x00, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0x08, 0x7D, 0x07, 0x02, 0x6A, 0x02, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0x00, 0x4B, 0x00, 0x00, 0x35, 0x00, 0x0E, 0x17, 0x1E },
{ 0x44, 0x5D, 0x6E, 0x07, 0x7B, 0x06, 0x02, 0x68, 0x02, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xD4, 0xD4, 0xC7, 0xCD, 0xCD, 0xC0, 0x00, 0x49, 0x00, 0x00, 0x36, 0x00, 0x0E, 0x17, 0x1E },
{ 0x3C, 0x54, 0x64, 0x02, 0x68, 0x02, 0x00, 0x52, 0x00, 0x93, 0x93, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x91, 0x91, 0x89, 0x93, 0x93, 0x89, 0x8E, 0x8E, 0x87, 0x00, 0x3B, 0x00, 0x00, 0x35, 0x00, 0x0E, 0x17, 0x1F },
{ 0x29, 0x40, 0x52, 0x07, 0x3C, 0x0D, 0x00, 0x37, 0x00, 0x60, 0x60, 0x5B, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x5B, 0x5B, 0x56, 0x60, 0x60, 0x5B, 0x5D, 0x5D, 0x57, 0x00, 0x35, 0x00, 0x03, 0x26, 0x05, 0x0C, 0x14, 0x1A },
{ 0x80, 0x80, 0x80, 0x16, 0x25, 0x31, 0x10, 0x1B, 0x24, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1E, 0x0E, 0x17, 0x1F, 0x0C, 0x14, 0x1A, 0x80, 0x80, 0x80 },
};

static void TestDisplay( void );
static void TimerProc( void* pParam );
static void StopTimerProc( void );
static void StartTimerProc( void );
static int	GetChar( void );
static void DrawBackground( void );
static void	DrawClock( struct tm* pTime );
static void	DrawHorSlider( void );
static void	DrawVerSlider( void );
static void DisplayInfo( void );


int main( int argc, char *argv[] )
{
	argc, argv;

	srand( (UInt32)time( NULL ) );

	if ( seAcquireController() )
	{
		if ( seInitializeController(seINIT_NORMAL) )
			TestDisplay();
		else
			printf( "seInitializeController() failed.\n" );
	}

	return 0;
}


static void TestDisplay( void )
{
	int Char = '?';

	gWidth = seLcdGetWidth();
	gHeight = seLcdGetHeight();
	gpImage	= (UInt8*)malloc(gWidth * gHeight * 3);

	seModifyReg16( REG22_DISP_SET, 0x0060, 1<<5 ); // set TE Function such that TE output pin is high during VNDP
	sePipSetDisplayMode( sePipDisabled );
	seLcdSetColorDepth( seFormat_RGB_888 );

	if ( gpImage )
	{
		memset( gpImage, 0, gWidth * gHeight * 3 );

		DrawBackground();
		seBurstWriteMemory8( seLcdGetStartAddress(), gpImage, gWidth * gHeight * 3 );

		StartTimerProc();

		do
		{
			switch ( Char )
			{
			  case '?':
				printf( "\nDisplay test options:\n" );
				printf( "     [\x1B \x1A]=density   [\x18 \x19]=length [i]=info\n" );
				printf( "     [s]=stop animation [S]=start animation\n" );
				printf( "     [q]=stop\n\n" );
				break;
				
			  case 'K' | 0x8000:	// LEFT
				if ( gDensity < MAX_DENSITY )
					gDensity++;
				break;
				
			  case 'M' | 0x8000:	// RIGHT
				if ( gDensity > MIN_DENSITY )
					gDensity--;
				break;
				
			  case 'H' | 0x8000:	// UP
				if ( gStep < MAX_STEP )
					gStep++;
				break;
				
			  case 'P' | 0x8000:	// DOWN
				if ( gStep > MIN_STEP )
					gStep--;
				break;

			  case 's':
				StopTimerProc();
				break;

			  case 'S':
				StartTimerProc();
				break;

			  case 'i':
			  case 'I':
				DisplayInfo();
				break;

			  case '\r':
				break;
				
			  default:
				printf( "\a" );
				break;
			}

			printf( "\rDensity:%d  Length:%d ", MAX_DENSITY - gDensity + 1, MAX_STEP - gStep + 1 );
			
			Char = GetChar();
			if ( Char == 0xE0 )
			{
				Char = GetChar() | 0x8000;
			}
		} while ( Char != 'q' && Char != 'Q' && Char != 27 );

		StopTimerProc();

		free( gpImage );
	}
	else
	{
		printf( "Not enough memory.\n" );
	}
}



static void StopTimerProc( void )
{
	if ( !gTimer || !gEnableTimerProc )
		return;

	// Tell TimerProc to stop
	gEnableTimerProc = FALSE;

	// Wait until TimerProc says it has stopped running
	while ( gTimer )
		seOsSleepMS( 1 );	// Must go to sleep so that TimerProc can run
}



static void StartTimerProc( void )
{
	UInt32 IntervalMS = 20;

	gTimer = seOsCreatePeriodicTimer( IntervalMS, TimerProc, NULL );

	if ( !gTimer )
		return;

	gEnableTimerProc = TRUE;
}



static void TimerProc( void* pParam )
{
	Int32 i, j;
	UInt8* pTemp = gpImage + (gWindows[DBLBUF_WINDOW].StartX + gWindows[DBLBUF_WINDOW].StartY * gWidth) * 3;
	static time_t LastTime = 0;
	static Int32 LastDensity = 0;
	static Int32 LastStep = 0;
	time_t CurrentTime;
	pParam;

	if ( !gEnableTimerProc )
	{
		seOsDestroyPeriodicTimer( gTimer );
		gTimer = 0;
		return;
	}

	// Move pixels down
	for( j = gWindows[DBLBUF_WINDOW].Height-1; j > 0; j-- )
		for ( i = 0; i < (Int32)gWindows[DBLBUF_WINDOW].Width; i++ )
		{
			*(pTemp + (i + j*gWidth)*3 + 0) = *(pTemp + (i + (j-1)*gWidth)*3 + 0);
			*(pTemp + (i + j*gWidth)*3 + 1) = *(pTemp + (i + (j-1)*gWidth)*3 + 1);
			*(pTemp + (i + j*gWidth)*3 + 2) = *(pTemp + (i + (j-1)*gWidth)*3 + 2);
		}

	for ( i = 0; i < (Int32)gWindows[DBLBUF_WINDOW].Width; i++ )
	{
		Boolean fZero = TRUE;

		for ( j = 0; j < 3; j++ )
		{
			fZero = fZero && !*pTemp;
			if ( *pTemp )
				*pTemp = (UInt8)(*pTemp > gStep ? *pTemp - gStep : 0);
			pTemp++;
		}

		if ( fZero && rand() < (RAND_MAX >> gDensity) )
		{
			pTemp -= 3;
			*pTemp++ = (UInt8)(rand() * 256 / (RAND_MAX + 1));
			*pTemp++ = (UInt8)(rand() * 256 / (RAND_MAX + 1));
			*pTemp++ = (UInt8)(rand() * 256 / (RAND_MAX + 1));
		}
	}

	// Check if the time has changed
	CurrentTime = time( NULL );
	if ( gRedraw || (CurrentTime!=LastTime) )
	{
		LastTime = CurrentTime;

		DrawClock( localtime( &CurrentTime ) );
	}

	// Check if the density has changed
	if ( gRedraw || (LastDensity!=gDensity) )
	{
		LastDensity = gDensity;

		DrawHorSlider();
	}

	// Check if the step has changed
	if ( gRedraw || (LastStep!=gStep) )
	{
		LastStep = gStep;

		DrawVerSlider();
	}

	sePollWhileLowReg16( REG22_DISP_SET, 0x0080, 0, 1000 ); // poll for tearing effect status
	seBurstWriteMemory8( seLcdGetStartAddress(), gpImage, gWidth * gHeight * 3 );

	gRedraw = FALSE;
}



static void DrawBackground( void )
{
	seDrawData DrawInfo;

	StopTimerProc();					// Don't allow TimerProc to change registers in the background

	gRedraw = TRUE;						// Redraw all images

	DrawInfo.Address = gpImage;
	DrawInfo.ByteSize = 3;
	DrawInfo.Stride = gWidth * 3;
	
	gWindows[FULL_SCREEN].Width = gWidth;
	gWindows[FULL_SCREEN].Height = gHeight;

	memset(gpImage, 0x94, gWidth * gHeight * 3 );

	seAuxDrawHLine( &DrawInfo, 4, 4, gWidth - 9, &gColor[0] );
	seAuxDrawVLine( &DrawInfo, 4, 5, gHeight - 40, &gColor[0] );
	seAuxDrawHLine( &DrawInfo, 5, 5, gWidth - 11, &gColor[2] );
	seAuxDrawVLine( &DrawInfo, 5, 6, gHeight - 42, &gColor[2] );
	seAuxDrawHLine( &DrawInfo, 4, gHeight - 35, gWidth - 8, &gColor[1] );
	seAuxDrawVLine( &DrawInfo, gWidth - 5, 4, gHeight - 39, &gColor[1] );

	seAuxDrawHLine( &DrawInfo, 4, gHeight - 30, gWidth - 9, &gColor[0] );
	seAuxDrawVLine( &DrawInfo, 4, gHeight - 29, 24, &gColor[0] );
	seAuxDrawHLine( &DrawInfo, 5, gHeight - 29, gWidth - 11, &gColor[2] );
	seAuxDrawVLine( &DrawInfo, 5, gHeight - 28, 22, &gColor[2] );
	seAuxDrawHLine( &DrawInfo, 4, gHeight - 5, gWidth - 8, &gColor[1] );
	seAuxDrawVLine( &DrawInfo, gWidth - 5, gHeight - 30, 25, &gColor[1] );

	gWindows[CLOCK_WINDOW].StartX = (UInt16)(gWidth - 15*8);
	gWindows[CLOCK_WINDOW].StartY = (UInt16)(gHeight - 25);
	gWindows[CLOCK_WINDOW].Width = DIGIT_WIDTH * 9;
	gWindows[CLOCK_WINDOW].Height = DIGIT_HEIGHT + 1;

	gWindows[DBLBUF_WINDOW].StartX = (UInt16)(gWidth / 8);
	gWindows[DBLBUF_WINDOW].StartY = (UInt16)(gHeight / 8);
	if ( gWindows[DBLBUF_WINDOW].StartX < gWindows[DBLBUF_WINDOW].StartY )
		gWindows[DBLBUF_WINDOW].StartY = gWindows[DBLBUF_WINDOW].StartX;
	else
		gWindows[DBLBUF_WINDOW].StartX = gWindows[DBLBUF_WINDOW].StartY;
	gWindows[DBLBUF_WINDOW].Width = gWidth/2;
	gWindows[DBLBUF_WINDOW].Height = gHeight/2;

	seAuxDrawHLine( &DrawInfo, gWindows[DBLBUF_WINDOW].StartX - 1, gWindows[DBLBUF_WINDOW].StartY - 1, gWidth/2 + 2, &gColor[0] );
	seAuxDrawVLine( &DrawInfo, gWindows[DBLBUF_WINDOW].StartX - 1, gWindows[DBLBUF_WINDOW].StartY, gHeight/2 + 1, &gColor[0] );
	seAuxDrawHLine( &DrawInfo, gWindows[DBLBUF_WINDOW].StartX - 1, gWindows[DBLBUF_WINDOW].StartY + gWindows[DBLBUF_WINDOW].Height + 1, gWidth/2 + 3, &gColor[1] );
	seAuxDrawVLine( &DrawInfo, gWindows[DBLBUF_WINDOW].StartX + gWindows[DBLBUF_WINDOW].Width + 1, gWindows[DBLBUF_WINDOW].StartY - 1, gHeight/2 + 2, &gColor[1] );

	seAuxDrawRectangle( &DrawInfo, gWindows[DBLBUF_WINDOW].StartX, gWindows[DBLBUF_WINDOW].StartY, gWindows[DBLBUF_WINDOW].Width, gWindows[DBLBUF_WINDOW].Height, &gColor[2] );

	gWindows[HOR_SLIDER].StartX = gWindows[DBLBUF_WINDOW].StartX;
	gWindows[HOR_SLIDER].StartY = (UInt16)(gWindows[DBLBUF_WINDOW].StartY + gWindows[DBLBUF_WINDOW].Height + 10);
	gWindows[HOR_SLIDER].Width = gWindows[DBLBUF_WINDOW].Width;
	gWindows[HOR_SLIDER].Height = 22;

	gWindows[VER_SLIDER].StartX = (UInt16)(gWindows[DBLBUF_WINDOW].StartX + gWindows[DBLBUF_WINDOW].Width + 10);
	gWindows[VER_SLIDER].StartY = gWindows[DBLBUF_WINDOW].StartY;
	gWindows[VER_SLIDER].Width = 22;
	gWindows[VER_SLIDER].Height = gWindows[DBLBUF_WINDOW].Height;
}



static void DrawClock( struct tm* pTime )
{
	UInt32	i, j, k;
	char	Buffer[50];
	const UInt8* pDigit;
	UInt8*	pTemp;
	UInt8* pWinBuf;
	sprintf( Buffer, "%2u:%02u:%02u", pTime->tm_hour, pTime->tm_min, pTime->tm_sec );
	#define LIMIT(x) ((UInt8)((x)>0x80?0xFF:0x00))
	

	pWinBuf = gpImage + (gWindows[CLOCK_WINDOW].StartX + (gWindows[CLOCK_WINDOW].StartY * gWidth)) * 3;

	for ( i = 0; i <= 8; i++ )
	{
		pTemp = pWinBuf + i * (DIGIT_WIDTH + 1) * 3;
		if ( Buffer[i] >= '0' )
		{
			for ( j = 0; j < DIGIT_HEIGHT; j++ )
			{
				pDigit = gDigits[j] + (Buffer[i] - '0') * DIGIT_WIDTH;
				for ( k = 0; k < DIGIT_WIDTH; k++ )
				{
					*pTemp++ = *pDigit;
					*pTemp++ = *pDigit;
					*pTemp++ = *pDigit++;
				}
				pTemp += (gWidth - DIGIT_WIDTH) * 3;
			}
		}
	}
}



static void DrawHorSlider( void )
{
	int i;
	WinRect*	pRect = &gWindows[HOR_SLIDER];
	UInt32		Width = pRect->Width;
	UInt32		Height = pRect->Height;
	UInt32		Offset;
	UInt8*		pTemp;
	seDrawData	DrawInfo;
	UInt8*		pWinBuf;

	pWinBuf = gpImage + (gWindows[HOR_SLIDER].StartX + (gWindows[HOR_SLIDER].StartY * gWidth)) * 3;

	// Draw the slider
	DrawInfo.Address = pWinBuf;
	DrawInfo.ByteSize = 3;
	DrawInfo.Stride = gWidth * 3;
	
	// Copy slider to the screen as a single-buffered window
	for(i=0;i<(int)Height;i++)
	{
		memset( pWinBuf+(i*gWidth)*3, 0x94, Width*3 );
	}

	seAuxDrawHLine( &DrawInfo, 0, 8, Width - 1, &gColor[0] );
	seAuxDrawVLine( &DrawInfo, 0, 9, 4, &gColor[0] );
	seAuxDrawHLine( &DrawInfo, 1, 9, Width - 3, &gColor[2] );
	seAuxDrawVLine( &DrawInfo, 1, 10, 2, &gColor[2] );
	seAuxDrawHLine( &DrawInfo, 0, 13, Width, &gColor[1] );
	seAuxDrawVLine( &DrawInfo, Width - 1, 8, 5, &gColor[1] );
	seAuxDrawRectangle( &DrawInfo, 2, 10, Width - 4, 2, &gColor[1] );

	Offset = (Width - 11) * (MAX_DENSITY - gDensity) / (MAX_DENSITY - MIN_DENSITY);
	pTemp = pWinBuf + Offset * 3;
	for ( i = 0; i < 22; i++ )
	{
		memcpy(pTemp, gHorSlider[i], 33 );
		pTemp += gWidth * 3;
	}
}



static void DrawVerSlider( void )
{
	int i;
	WinRect*	pRect = &gWindows[VER_SLIDER];
	UInt32		Width = pRect->Width;
	UInt32		Height = pRect->Height;
	UInt32		Offset;
	UInt8*		pTemp;
	seDrawData	DrawInfo;
	UInt8*		pWinBuf;

	pWinBuf = gpImage + (gWindows[VER_SLIDER].StartX + (gWindows[VER_SLIDER].StartY * gWidth)) * 3;
	
	// Draw the slider
	DrawInfo.Address = pWinBuf;
	DrawInfo.ByteSize = 3;
	DrawInfo.Stride = gWidth * 3;
	
	// Copy slider to the screen as a single-buffered window
	for(i=0;i<(int)Height;i++)
	{
		memset( pWinBuf+(i*gWidth)*3, 0x94, Width*3 );
	}

	seAuxDrawVLine( &DrawInfo, 8, 0, Height - 1, &gColor[0] );
	seAuxDrawHLine( &DrawInfo, 9, 0, 4, &gColor[0] );
	seAuxDrawVLine( &DrawInfo, 9, 1, Height - 3, &gColor[2] );
	seAuxDrawHLine( &DrawInfo, 10, 1, 2, &gColor[2] );
	seAuxDrawVLine( &DrawInfo, 13, 0, Height, &gColor[1] );
	seAuxDrawHLine( &DrawInfo, 8, Height - 1, 5, &gColor[1] );
	seAuxDrawRectangle( &DrawInfo, 10, 2, 2, Height - 4, &gColor[1] );

	Offset = (Height - 11) * (MAX_STEP - gStep) / (MAX_STEP - MIN_STEP);
	pTemp = pWinBuf + Offset * DrawInfo.Stride;
	for ( i = 0; i < 11; i++ )
	{
		memcpy(pTemp, gVerSlider[i], 66 );
		pTemp += gWidth * 3;
	}
}


static void DisplayInfo( void )
{
	UInt32 width, height;

	printf( "\n\n" );

	width = seLcdGetWidth();
	height = seLcdGetHeight();
	printf( "Main Window Dimensions: %u x %u\n", width, height );

	printf( "\n" );
}



#ifdef _WIN32

#include <conio.h>

static int GetChar( void )
{
	return _getch();
}

#else

static int GetChar( void )
{
	int Char;

	do
		Char = getchar();
	while ( Char == '\n' );

	return Char;
}

#endif

